# Audio player


В данном задании необходимо создать и добавить на страницу аудио плеер подобного или какого-либо иного дизайна:

<img width="403" alt="Screenshot 2022-10-06 at 08 29 24" src="https://user-images.githubusercontent.com/70028254/194221990-e9de305b-22f0-42a4-bc18-be88eec0b00f.png">

Плеер состоит из:
- картинки/фотографии альбома, песни, мелодии или какого-либо связанной с тематикой мелодии или исполнителя фото. Фото рассполагается в верхней части плеера и занимает всю его ширину и высоту равную ширине;
- ниже картинки рассполагается панель с именем исполнителя и названием композиции. Название композиции имеет больший размер шрифта, чем имя исполнителя.
- права от панели с названием песни и именем исполнителя рассполагается кнопка `play` вида ▶. При нажатии на кнопку `play` начинает играть мелодия. В свою очередь после этого, преобразуется в кнопку `pause` с символом ⏸. При нажатии на `pause` воспроизведение композиции останавливается и кнопка опять принимает вид `play`. При нажатии на `play` в этот раз, композиция воспроизводится с места где была остановлена;
- ниже рассполагается дорожка трека, а над ней слева - текущее время воспроизведения композиции, справа - полное время композиции. Дорожка так же визуально показывает сколько воспроизвелось, а сколько осталось;
- ниже рассполагается кнопка громкости, которая состоит из иконки динамика и ползунка для регулирования громкости. При нажатии на иконку динамика - звук отключается и иконка принимает вид зачеркнутого динамика. При повторном нажатии иконка возращается к первоначальному виду, а громкость становится равной такой же как перед отключением. Ползунок регулировки громкости позволяет изменять громкость в пределах 0 - 100. 

### Рекомендации по выполнению

‼ Писать js-код плеера будем в отдельном js-файле, назовем его `player.js` (html остается тем же). Так как плеер по сути своей является независимым от всего приложения компонентом, то лучше выделять всю его логику в отдельном файле, называемом модулем. Таким образом, мы создаем более чистую кодовую базу, где каждая сущность выделена в отдельный независимый модуль и позже все эти модули могут быть использованы в разных местах. Таким образом все что касается плеера у тебя будет храниться отдельно и никакой другой код не будет тебя путать и отвлекать от работы с плеером.
Так же для плеера можно создать и новый ccs-файл.

##### Перво на перво, необходимо создать html-верстку плеера в html-файле.
##### Создать, если нет, папку для хранения картинок и музыки `assets`, в ней создать папки `sounds` и `pictures`. Поместить в `sounds` композицию в mp3-формате, а в `pictures` картинку, соответсвтующую это композиции. Переименую эти файлы, чтоб было удобно к ним обращаться.

#### Немного теории: Работа с аудио в html

С появлением HTML5 добавление аудиоплеера на страницу превратилось в рядовую задачу. Для этого достаточно в html-файл добавить код плеера, и в атрибуте `src` указать ссылку на аудио-файл.
```html
<audio src="" controls></audio>
```
[Пример 1 на codepen](https://codepen.io/irinainina/pen/poerqar)

Внешний вид встроенного в браузер аудиоплеера в разных браузерах выглядит немного по-разному и очень плохо стилизуется. Если нужно создать плеер с определённым дизайном, в приведённом выше коде необходимо убрать атрибут `controls`, который отвечает за отображение плеера и написать js-код для его проигрывания:
```js
const audio = document.querySelector('audio');
function playAudio() {
  audio.currentTime = 0;
  audio.play();
}
function pauseAudio() {
  audio.pause();
}
```
[Пример 2 на codepen](https://codepen.io/irinainina/pen/RwoKVBW)

Функции `playAudio()` и `pauseAudio()` достаточно простые. Первая запускает проигрывание плеера используя метод `play()`, вторая - останавливает проигрывание, используя метод `pause()`. Строка `audio.currentTime = 0` указывает, что аудиотрек при каждом запуске функции `playAudio()` будет проигрываться с начала.

Есть возможность создать плеер средствами JavaScript(‼предпочтительный способ в данном задании‼). Причем даже совсем не надо добавлять тег `audio` в html-файл. Добавление возможности слышать и воспроизводить звуки на странице происходит из-за создания экземпляра js-класса `new Audio()` :
```js
const audio = new Audio();
function playAudio() {
  audio.src = // ссылка на аудио-файл;
  audio.currentTime = 0;
  audio.play();
}
```
[Пример 3 на codepen](https://codepen.io/irinainina/pen/dyvzrNV)

#### Вернемся к практике
У нас есть `player.js` файл где мы будем писать код для плеера.
И так, найдем необходимые на первом этапе html-элементы при помощи `document.querySelector`. Необходимые элементы - это **картинка** и **кнопка play/pause**.
Положим их в константы `soundImage` и `playButton`.
```js
const soundImage = document.querySelector('.sound_image');
const playButton = document.querySelector('.play_button');
```
Далее создаем браузерный внутренний объект аудио, который имеет методы для воспроизведения и остановки аудиозаписей.
```js
const audio = new Audio();
```
Теперь переменная `audio` содержит сслыку на некий внутренний браузерный объект плеера, невидимый на странице браузера, с которым мы можем работать.
Далее, скажем этому объекту `audio` что нужно воспроизводить и заодно отобразим картинку для этой мелодии:
```js
audio.src = 'здесь должны быть ссылка на мелодию, которая находится в папке `assets/sounds/`';
soundImage.src = 'здесь должны быть ссылка на картинку, которая находится в папке `assets/pictures/`';
```

Теперь, нам надо воспроизвести мелодию. Согласно требованиям, при нажатии на кнопку `play` композиция должна воспроизвестись, а сама кнопка преобразоваться в кнопку `pause`.
В первую очередь нам понадобиться глобальная переменная, которая будет флагом и назовем ее `isPlay`. Смысл этой переменной в том, чтоб хранить в ней состояние нашего аудиоплеера - играет или на паузе.
Флаги принмают как правило только булевые значения: true или false. Т.к. изначально наш плеер не воспроизводит композицию, то флаг будет иметь значение `false`.
```js
let isPlay = false
```
Далее переходим к логике воспроизведения. Мелодия должны воспроизводиться, когда происходит нажатие на кнопку `play`. Навесим листенер на эту кнопку:
```js
playButton.addEventListener('click', playPauseSound)
```
`playPauseSound` - это функция, которая будет заниматься воспроизведением и постановкой аудио на паузу в зависимости от флага `isPlay`.

```js 
const playPauseSound = () => {
  if (isPlay) {
    audio.pause();
    playButton.textContent = '⏸';
  } else {
    audio.play();
    playButton.textContent = '▶'
  }
  isPlay = !isPlay
}
```
Теперь при каждом нажатии на кнопку у нас будет либо воспроизводиться либо останавливаться композиция.
Если необходимо по-разному стилизовать кнопку `play` в зависимости от состояния, то можно использовать css-стили и методы  `classList`(c `classList` ты немного знакома)
Метод `classList` предназначен для работы с классами и поддерживается всеми современными браузерами:
- `element.classList.add('class');` - добавляет элементу класс;
- `element.classList.remove('class');` - удаляет класс;
- `element.classList.toggle('class');` - переключает класс: добавляет, если класса нет, и удаляет, если он есть.
Где 'element' - это твой `html` элемент, которому нужно добавить/удалить классы (`playButton` в данном конкретном случае).
  

